{"ast":null,"code":"import _slicedToArray from\"/Users/li4nost/dev/hydroshop/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import classes from'./BuyPage.module.sass';import{objectValue}from\"../../assets/test/Tests\";import BlueButton from\"../UI/BlueButton/BlueButton\";import hurt from\"../../images/svg/Hurt.svg\";import grup from\"../../images/svg/Group.svg\";import star from\"../../images/svg/Star.svg\";import RecomendProduct from\"../RecomendProduct/RecomendProduct\";import{useParams}from\"react-router-dom\";import{useEffect,useState}from\"react\";import axios from\"axios\";import ShopsBlock from\"../ShopsBlock/ShopsBlock\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BuyPage=function BuyPage(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setImage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),markets=_useState6[0],setMarkets=_useState6[1];var params=useParams();useEffect(function(){axios.get(\"http://localhost:1337/api/products?filters[uid]=\".concat(params.id,\"&populate=*\")).then(function(res){var array=res.data.data;array.forEach(function(elem){setProduct(elem.attributes);setImage(elem.attributes.img.data.attributes.url);});});axios.get('http://localhost:1337/api/markets?populate=*').then(function(res){return setMarkets(res.data.data);});},[params]);console.log(markets);return/*#__PURE__*/_jsxs(\"div\",{className:classes.buyPage,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.flex,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.product,children:[product.sale&&/*#__PURE__*/_jsx(BlueButton,{children:\"SALE\"}),/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:1337\".concat(image),alt:objectValue.name}),/*#__PURE__*/_jsxs(\"div\",{className:classes.priceBlock,children:[/*#__PURE__*/_jsxs(\"p\",{children:[product.oldprice,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[product.price,\" \\u20BD\"]})]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0430\\u0448\\u043B\\u0438 \\u0434\\u0435\\u0448\\u0435\\u0432\\u043B\\u0435? \\u0421\\u043D\\u0438\\u0437\\u0438\\u043C \\u0446\\u0435\\u043D\\u0443!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.infoBlock,children:[/*#__PURE__*/_jsx(\"h2\",{children:product.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041A\\u043E\\u0434 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430: \",params.id]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.imgBlock,children:[/*#__PURE__*/_jsx(\"img\",{src:hurt}),/*#__PURE__*/_jsx(\"img\",{src:grup}),/*#__PURE__*/_jsx(\"img\",{src:star})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.characteristic,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0425\\u0430\\u0440\\u0430\\u043A\\u0442\\u0435\\u0440\\u0438\\u0441\\u0442\\u0438\\u043A\\u0438\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.info,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0438\\u0442\\u0435\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"h2\",{children:product.country})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.info,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043C\\u0435\\u0441\\u0442, \\u0448\\u0442: \"}),/*#__PURE__*/_jsx(\"h2\",{children:product.places})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.info,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041C\\u043E\\u0449\\u043D\\u043E\\u0441\\u0442\\u044C, \\u043B.\\u0441.\"}),/*#__PURE__*/_jsx(\"h2\",{children:product.power})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.info,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0422\\u0438\\u043F \\u0434\\u0432\\u0438\\u0433\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"h2\",{children:product.engineType})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.info,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0413\\u043E\\u0434 \\u0432\\u044B\\u043F\\u0443\\u0441\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"h2\",{children:product.year})]}),/*#__PURE__*/_jsx(BlueButton,{children:\"\\u041A\\u0423\\u041F\\u0418\\u0422\\u042C\"})]})]})]}),/*#__PURE__*/_jsx(ShopsBlock,{productId:params.id,markets:markets}),/*#__PURE__*/_jsx(RecomendProduct,{text:'С этим товаром покупают',defaultView:'Электроника'})]});};export default BuyPage;","map":{"version":3,"names":["classes","objectValue","BlueButton","hurt","grup","star","RecomendProduct","useParams","useEffect","useState","axios","ShopsBlock","jsx","_jsx","jsxs","_jsxs","BuyPage","_useState","_useState2","_slicedToArray","product","setProduct","_useState3","_useState4","image","setImage","_useState5","_useState6","markets","setMarkets","params","get","concat","id","then","res","array","data","forEach","elem","attributes","img","url","console","log","className","buyPage","children","flex","sale","src","alt","name","priceBlock","oldprice","price","infoBlock","title","imgBlock","characteristic","info","country","places","power","engineType","year","productId","text","defaultView"],"sources":["/Users/li4nost/dev/hydroshop/src/components/BuyPage/BuyPage.jsx"],"sourcesContent":["import classes from './BuyPage.module.sass'\nimport {objectValue} from \"../../assets/test/Tests\";\nimport BlueButton from \"../UI/BlueButton/BlueButton\";\nimport hurt from \"../../images/svg/Hurt.svg\"\nimport grup from \"../../images/svg/Group.svg\"\nimport star from \"../../images/svg/Star.svg\"\nimport RecomendProduct from \"../RecomendProduct/RecomendProduct\";\nimport {useParams} from \"react-router-dom\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport ShopsBlock from \"../ShopsBlock/ShopsBlock\";\n\nconst BuyPage = () => {\n    \n    const [product, setProduct] = useState({})\n    const [image, setImage] = useState()\n    const [markets, setMarkets] = useState([])\n    const params = useParams()\n    useEffect(() => {\n        axios.get(`http://localhost:1337/api/products?filters[uid]=${params.id}&populate=*`)\n            .then(res => {\n                    const array = res.data.data\n                    array.forEach(elem => {\n                        setProduct(elem.attributes)\n                        setImage(elem.attributes.img.data.attributes.url)\n                    })\n                }\n            )\n            axios.get ('http://localhost:1337/api/markets?populate=*')\n                .then(res=>setMarkets(res.data.data))\n    }, [params])\n\n    console.log(markets)\n\n\n    return (\n        <div className={classes.buyPage}>\n            <div className={classes.flex}>\n                <div className={classes.product}>\n                    {product.sale&&<BlueButton>SALE</BlueButton>}\n\n                    <img src={`http://localhost:1337${image}`} alt={objectValue.name}/>\n                    <div className={classes.priceBlock}>\n                        <p>{product.oldprice} ₽</p>\n                        <h2>{product.price} ₽</h2>\n                    </div>\n                    <p>Нашли дешевле? Снизим цену!</p>\n                </div>\n                <div className={classes.infoBlock}>\n                    <h2>{product.title}</h2>\n                    <p>Код товара: {params.id}</p>\n                    <div className={classes.imgBlock}>\n                        <img src={hurt}/>\n                        <img src={grup}/>\n                        <img src={star}/>\n                    </div>\n                    <div className={classes.characteristic}>\n                        <h2>Характеристики</h2>\n                        <div className={classes.info}>\n                            <h2>Производитель</h2>\n                            <h2>{product.country}</h2>\n                        </div>\n                        <div className={classes.info}>\n                            <h2>Количество мест, шт: </h2>\n                            <h2>{product.places}</h2>\n                        </div>\n                        <div className={classes.info}>\n                            <h2>Мощность, л.с.</h2>\n                            <h2>{product.power}</h2>\n                        </div>\n                        <div className={classes.info}>\n                            <h2>Тип двигателя</h2>\n                            <h2>{product.engineType}</h2>\n                        </div>\n                        <div className={classes.info}>\n                            <h2>Год выпуска</h2>\n                            <h2>{product.year}</h2>\n                        </div>\n                        <BlueButton>КУПИТЬ</BlueButton>\n                    </div>\n                </div>\n            </div>\n            <ShopsBlock productId={params.id} markets={markets}/>\n            <RecomendProduct text={'С этим товаром покупают'} defaultView={'Электроника'}/>\n        </div>\n    )\n\n}\n\nexport default BuyPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}